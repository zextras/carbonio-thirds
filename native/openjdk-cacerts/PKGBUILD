pkgname="carbonio-openjdk-cacerts"
pkgver="3.97"
pkgrel="1"
pkgdesc="CA Certs keystore for OpenJDK"
arch=('x86_64')
maintainer="Zextras <packages@zextras.com>"
url="https:/zextras.com"
depends=(
  "carbonio-openjdk"
)
section="utils"
priority="optional"
source=(
  "https://raw.githubusercontent.com/nss-dev/nss/NSS_${pkgver/./_}_RTM/lib/ckfw/builtins/certdata.txt"
  "import-cacerts"
)
sha256sums=('1970dd65858925d68498d2356aea6d03f764422523c5887deca8ce3ba9e1f845'
  '24babc85aeb1f5af9a7bf0af2bd4d299609039bda9862356064aaa92542d662f')

package() {
  mkdir -p "${pkgdir}/opt/zextras/common/etc/java"

  cd "${srcdir}"
  ./import-cacerts -f certdata.txt -o \
    "${pkgdir}"/opt/zextras/common/etc/java

  echo "${pkgver}" > \
    "${pkgdir}"/opt/zextras/common/etc/java/.caversion
}
